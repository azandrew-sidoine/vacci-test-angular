<div class="clr-row">
  <div class="clr-col-12">
    <div class="card">
      <div class="card-header">Créer un nouveau département</div>
      <div class="card-block" *ngIf="state$ | async as vm">
        <div class="card-text">
          <form>
            <div class="clr-row">
              <div class="clr-col-12">
                <p *ngIf="!vm?.performingAction && !typeHelper?.isDefined(vm?.form) && !typeHelper?.isDefined(vm?.formgroup)"
                  class="text-center">
                  <span [translate]="'unavailableForm'"> </span>
                </p>
                <div class="text-center top-24"
                  *ngIf="vm?.performingAction && !typeHelper?.isDefined(vm?.form) && !typeHelper?.isDefined(vm?.formgroup)">
                  <span class="spinner spinner-inline"></span> {{ "loadingform" | translate }}
                </div>
                <ng-container
                  *ngIf="!typeHelper?.isDefined(vm?.department) && !vm?.performingAction && typeHelper?.isDefined(vm?.formgroup)">
                  <span class="p3">Ajouter un nouveau département au système. Les départements permettent de
                    grouper les utilisateurs d'une entité.</span>
                </ng-container>
                <ng-container
                  *ngIf="typeHelper?.isDefined(vm?.department) && !vm?.performingAction && typeHelper?.isDefined(vm?.formgroup)">
                  <div class="card-title">Modification du département {{ vm?.department?.name }}</div>
                </ng-container>
              </div>
            </div>
            <div class="clr-row">
              <div class="clr-col-12">
                <app-add-departement *ngIf="typeHelper?.isDefined(vm?.formgroup) && typeHelper?.isDefined(vm?.form)"
                  #appAddDepartmentComponent [department]="vm?.department" [form]="vm?.form"
                  [componentFormGroup]="vm?.formgroup" (cancelSubmission)="onCancel()">
                </app-add-departement>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>