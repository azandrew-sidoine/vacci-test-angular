<div class="form" *ngIf="componentFormGroup">
  <form [formGroup]="componentFormGroup" (ngSubmit)="onFormSubmit()">
    <div class="form form-container" *ngIf="componentFormGroup">
      <app-dynamic-form-wapper [componentFormGroup]="componentFormGroup" [form]="form"></app-dynamic-form-wapper>
      <br />
      <ng-container *ngIf="currentForm && currentForm.children && currentForm?.children?.length > 0">
        <ng-container *ngFor="let f of currentForm.children">
          <a (click)="dissociateForm(f.id)" class="label label-purple clickable">
            {{ f.title }}
            <span class="badge">
              <clr-icon shape="times"></clr-icon>
            </span>
          </a>
        </ng-container>
      </ng-container>
      <div class="button-container">
        <button class="btn btn-primary" *ngIf="!isDefined(currentForm)" type="submit" [disabled]="performingAction">
          Enregistrer
        </button>
        <button class="btn btn-warning-outline" [disabled]="performingAction" *ngIf="currentForm" type="button"
          (click)="onClickedEditForm(currentForm)">
          <clr-icon shape="floppy"></clr-icon> Modifier
        </button>
        <button type="button" [disabled]="performingAction" *ngIf="currentForm" class="btn btn-outline-primry"
          (click)="addFormControl.emit($event)">
          <clr-icon shape="plus"></clr-icon> Ajouter un Champ
        </button>
      </div>
    </div>
  </form>
</div>